<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Install az-printer-service</title>
  <style>
    body { font-family: sans-serif; text-align: center; padding: 2em; }
    .qr, .command { margin-top: 2em; }
    .button {
      display: inline-block;
      padding: 1em 2em;
      font-size: 18px;
      background: #28a745;
      color: white;
      text-decoration: none;
      border-radius: 6px;
      margin-top: 1em;
    }
    pre {
      background: #f4f4f4;
      padding: 1em;
      border-radius: 4px;
      overflow-x: auto;
      text-align: left;
    }
    button.copy-btn {
      margin-top: 0.5em;
      padding: 0.5em 1em;
      font-size: 16px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <h1>ğŸ“¦ Install az-printer-service</h1>
  <p>Click the button or scan the QR code to download the repo ZIP file.</p>

  <a href="https://github.com/qpixio/az-printer-service/archive/refs/heads/main.zip" class="button">
    â¬‡ï¸ Download ZIP
  </a>

  <div class="qr">
    <img src="https://api.qrserver.com/v1/create-qr-code/?data=https://github.com/qpixio/az-printer-service/archive/refs/heads/main.zip&size=200x200" alt="Download QR">
    <p>Scan to download on Android</p>
  </div>

  <div class="command">
    <h3>ğŸ§  Termux One-Liner:</h3>
    <pre id="cmd">curl -L https://github.com/qpixio/az-printer-service/archive/refs/heads/main.zip -o az-printer-service.zip && unzip az-printer-service.zip && cd az-printer-service-main && bash setup.sh</pre>
    <button class="copy-btn" onclick="copyCommand()">ğŸ“‹ Copy to Clipboard</button>
  </div>

  <div class="qr">
    <h3>ğŸš€ QR for Termux Command</h3>
    <img src="https://api.qrserver.com/v1/create-qr-code/?data=curl%20-L%20https://github.com/qpixio/az-printer-service/archive/refs/heads/main.zip%20-o%20az-printer-service.zip%20%26%26%20unzip%20az-printer-service.zip%20%26%26%20cd%20az-printer-service-main%20%26%26%20bash%20setup.sh&size=200x200" alt="Termux QR">
    <p>Scan in Termux or use the copy button above</p>
  </div>

  <h2>âœ… 1. Update Termux & Install Basics</h2>
  <p>First, update your package lists:</p>
  <pre id="code1a"><button class="copy-btn" onclick="copy('code1a')">ğŸ“‹ Copy</button><code>pkg update</code></pre>
  <p>Next, upgrade your installed packages:</p>
  <pre id="code1b"><button class="copy-btn" onclick="copy('code1b')">ğŸ“‹ Copy</button><code>pkg upgrade -y</code></pre>
  <p>Then, install the necessary tools (curl, git, and unzip):</p>
  <pre id="code1c"><button class="copy-btn" onclick="copy('code1c')">ğŸ“‹ Copy</button><code>pkg install curl git unzip -y</code></pre>

  <h2>ğŸ”§ 2. Install Node.js via NVM</h2>
  <p>Download and execute the NVM installation script:</p>
  <pre id="code2a"><button class="copy-btn" onclick="copy('code2a')">ğŸ“‹ Copy</button><code>curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.7/install.sh | bash</code></pre>
  <p>Then, source your <code>.bashrc</code> to apply the changes:</p>
  <pre id="code2b"><button class="copy-btn" onclick="copy('code2b')">ğŸ“‹ Copy</button><code>source ~/.bashrc</code></pre>

  <p>ğŸ’¡ If <code>~/.bashrc</code> doesn't exist, try:</p>
  <pre id="code3"><button class="copy-btn" onclick="copy('code3')">ğŸ“‹ Copy</button><code>source ~/.profile</code></pre>

  <h2>ğŸŸ¢ 3. Install Node.js & npm Using NVM</h2>
  <p>Install the latest Long-Term Support (LTS) version of Node.js:</p>
  <pre id="code4a"><button class="copy-btn" onclick="copy('code4a')">ğŸ“‹ Copy</button><code>nvm install --lts</code></pre>
  <p>Use the installed LTS version:</p>
  <pre id="code4b"><button class="copy-btn" onclick="copy('code4b')">ğŸ“‹ Copy</button><code>nvm use --lts</code></pre>

  <h2>âš™ï¸ 4. Install PM2</h2>
  <pre id="code5"><button class="copy-btn" onclick="copy('code5')">ğŸ“‹ Copy</button><code>npm install -g pm2</code></pre>

  <h2>ğŸ“¦ 5. Download & Extract Your GitHub Repo</h2>
  <p>Download the repository ZIP file:</p>
  <pre id="code6d"><button class="copy-btn" onclick="copy('code6d')">ğŸ“‹ Copy</button><code>curl -L https://github.com/qpixio/az-printer-service/archive/refs/heads/main.zip -o repo.zip</code></pre>
  <p>Unzip the downloaded file:</p>
  <pre id="code6e"><button class="copy-btn" onclick="copy('code6e')">ğŸ“‹ Copy</button><code>unzip repo.zip</code></pre>
  <p>Navigate into the extracted directory:</p>
  <pre id="code6f"><button class="copy-btn" onclick="copy('code6f')">ğŸ“‹ Copy</button><code>cd az-printer-service-main</code></pre>

  <h2>ğŸ“¦ 5.1. Move to new folder</h2>
  <p>First, create a new directory for the print server:</p>
  <pre id="code6a"><button class="copy-btn" onclick="copy('code6a')">ğŸ“‹ Copy</button><code>mkdir -p ~/print-server</code></pre>
  
  <p>Next, move the extracted files into the new directory:</p>
  <pre id="code6b"><button class="copy-btn" onclick="copy('code6b')">ğŸ“‹ Copy</button><code>mv az-printer-service-main ~/print-server/az-printer-service</code></pre>
  
  <p>Finally, navigate into the new directory:</p>
  <pre id="code6c"><button class="copy-btn" onclick="copy('code6c')">ğŸ“‹ Copy</button><code>cd ~/print-server/az-printer-service</code></pre>

  <h2>ğŸš€ 6. Run Your Bash Script</h2>
  <pre id="code7"><button class="copy-btn" onclick="copy('code7')">ğŸ“‹ Copy</button><code>bash startup.sh</code></pre>

  <h2>ğŸ“ (Optional) Enable Storage Access</h2>
  <pre id="code8"><button class="copy-btn" onclick="copy('code8')">ğŸ“‹ Copy</button><code>termux-setup-storage</code></pre>

  <h2>âœ… Summary</h2>
  <ul>
    <li><strong>Node + npm:</strong> via <code>nvm</code></li>
    <li><strong>PM2:</strong> global install</li>
    <li><strong>Repo:</strong> downloaded + extracted ZIP</li>
    <li><strong>Script:</strong> launched with <code>bash startup.sh</code></li>
  </ul>

  <h2>ğŸ”„ Alternative: Manual Reset & Reinstall</h2>
  <p>If you encounter issues, you can follow these steps to reset your environment and reinstall Node.js and PM2.</p>

  <p>First, deactivate any active nvm version:</p>
  <pre id="reset1"><button class="copy-btn" onclick="copy('reset1')">ğŸ“‹ Copy</button><code>nvm deactivate</code></pre>

  <p>Uninstall any existing Node.js versions managed by nvm (you may need to adjust version numbers):</p>
  <pre id="reset2"><button class="copy-btn" onclick="copy('reset2')">ğŸ“‹ Copy</button><code>nvm uninstall 18</code></pre>
  <pre id="reset3"><button class="copy-btn" onclick="copy('reset3')">ğŸ“‹ Copy</button><code>nvm uninstall 16</code></pre>
  <pre id="reset4"><button class="copy-btn" onclick="copy('reset4')">ğŸ“‹ Copy</button><code>nvm uninstall 14</code></pre>

  <p>Completely remove nvm, npm, and PM2 directories:</p>
  <pre id="reset5"><button class="copy-btn" onclick="copy('reset5')">ğŸ“‹ Copy</button><code>rm -rf ~/.nvm ~/.npm ~/.pm2</code></pre>

  <p>Reset the shell's command lookup path:</p>
  <pre id="reset6"><button class="copy-btn" onclick="copy('reset6')">ğŸ“‹ Copy</button><code>hash -r</code></pre>

  <p>Install the LTS version of Node.js directly via pkg:</p>
  <pre id="reset7"><button class="copy-btn" onclick="copy('reset7')">ğŸ“‹ Copy</button><code>pkg install nodejs-lts -y</code></pre>

  <p>Install PM2 globally with the new Node.js version:</p>
  <pre id="reset8"><button class="copy-btn" onclick="copy('reset8')">ğŸ“‹ Copy</button><code>npm install -g pm2</code></pre>

  <p>Finally, verify the installations:</p>
  <pre id="reset9"><button class="copy-btn" onclick="copy('reset9')">ğŸ“‹ Copy</button><code>node -v</code></pre>
  <pre id="reset10"><button class="copy-btn" onclick="copy('reset10')">ğŸ“‹ Copy</button><code>pm2 -v</code></pre>

  <script>
    function copyCommand() {
      const cmd = document.getElementById("cmd").innerText;
      navigator.clipboard.writeText(cmd).then(() => {
        alert("Command copied!");
      });
    }

    function copy(id) {
      const code = document.getElementById(id).querySelector('code').innerText;
      navigator.clipboard.writeText(code).then(() => {
        alert("Command copied!");
      });
    }
  </script>
</body>
</html>
